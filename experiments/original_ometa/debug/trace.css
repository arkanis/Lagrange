body { font-family: sans-serif; }

div, p { margin: 0; padding: 0; }
p > code.rule { font-weight: bold; margin-right: 0.5em; cursor: pointer; }
p > .consumed { white-space: pre; margin: 0 0.5em; padding: 0.1em 0.5em; background: hsl(270, 100%, 90%); border: 1px solid hsl(270, 100%, 75%); }
p > small.consumed { background: hsl(240, 50%, 92.5%); border: 1px solid hsl(240, 50%, 85%); }
p > small.child_count { font-size: 0.7em; color: white; background: hsl(240, 50%, 75%); margin-left: 1em; border-radius: 5px; padding: 1px 5px; }
ul { display: none; margin: 0; padding: 0 0 0 0.5em; list-style: none; border-left: 1px solid green; }

div.opened > ul { display: block; }
div.opened > p > code.rule { color: hsl(240, 100%, 25%); }